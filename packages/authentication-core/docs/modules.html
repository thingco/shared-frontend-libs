<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@thingco/authentication-core</title><meta name="description" content="Documentation for @thingco/authentication-core"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@thingco/authentication-core</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@thingco/authentication-core</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Enumerations</h3><ul class="tsd-index-list"><li class="tsd-kind-enum"><a href="enums/AuthStateId.html" class="tsd-kind-icon">Auth<wbr/>State<wbr/>Id</a></li></ul></section><section class="tsd-index-section "><h3>Type aliases</h3><ul class="tsd-index-list"><li class="tsd-kind-type-alias"><a href="modules.html#AuthConfig" class="tsd-kind-icon">Auth<wbr/>Config</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AuthContext" class="tsd-kind-icon">Auth<wbr/>Context</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AuthError" class="tsd-kind-icon">Auth<wbr/>Error</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AuthEvent" class="tsd-kind-icon">Auth<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AuthInterpreter" class="tsd-kind-icon">Auth<wbr/>Interpreter</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AuthMachine" class="tsd-kind-icon">Auth<wbr/>Machine</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AuthState" class="tsd-kind-icon">Auth<wbr/>State</a></li><li class="tsd-kind-type-alias"><a href="modules.html#DeviceSecurityType" class="tsd-kind-icon">Device<wbr/>Security<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#InternalAuthContext" class="tsd-kind-icon">Internal<wbr/>Auth<wbr/>Context</a></li><li class="tsd-kind-type-alias"><a href="modules.html#InternalAuthEvent" class="tsd-kind-icon">Internal<wbr/>Auth<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#LoginFlowType" class="tsd-kind-icon">Login<wbr/>Flow<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#NewInternalAuthEvent" class="tsd-kind-icon">New<wbr/>Internal<wbr/>Auth<wbr/>Event</a></li></ul></section><section class="tsd-index-section "><h3>Variables</h3><ul class="tsd-index-list"><li class="tsd-kind-variable"><a href="modules.html#machine" class="tsd-kind-icon">machine</a></li><li class="tsd-kind-variable"><a href="modules.html#model" class="tsd-kind-icon">model</a></li></ul></section><section class="tsd-index-section "><h3>Functions</h3><ul class="tsd-index-list"><li class="tsd-kind-function"><a href="modules.html#createAuthenticationSystem" class="tsd-kind-icon">create<wbr/>Authentication<wbr/>System</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Type aliases</h2><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="AuthConfig" class="tsd-anchor"></a><h3>Auth<wbr/>Config</h3><div class="tsd-signature tsd-kind-icon">Auth<wbr/>Config<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>allowedOtpRetries<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>deviceSecurityType<span class="tsd-signature-symbol">?: </span><a href="modules.html#DeviceSecurityType" class="tsd-signature-type" data-tsd-kind="Type alias">DeviceSecurityType</a><span class="tsd-signature-symbol">; </span>loginFlowType<span class="tsd-signature-symbol">?: </span><a href="modules.html#LoginFlowType" class="tsd-signature-type" data-tsd-kind="Type alias">LoginFlowType</a><span class="tsd-signature-symbol">; </span>pinLength<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/thingco/shared-frontend-libs/blob/fd6f8ed/packages/authentication-core/src/types.ts#L213">packages/authentication-core/src/types.ts:213</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The configuration for the factory function used to construct
the auth system. This is also used in the React provider component
(and any similar components) to define the shape of the props to
pass into it.</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> allowed<wbr/>Otp<wbr/>Retries<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> device<wbr/>Security<wbr/>Type<span class="tsd-signature-symbol">?: </span><a href="modules.html#DeviceSecurityType" class="tsd-signature-type" data-tsd-kind="Type alias">DeviceSecurityType</a></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> login<wbr/>Flow<wbr/>Type<span class="tsd-signature-symbol">?: </span><a href="modules.html#LoginFlowType" class="tsd-signature-type" data-tsd-kind="Type alias">LoginFlowType</a></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> pin<wbr/>Length<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span></h5></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="AuthContext" class="tsd-anchor"></a><h3>Auth<wbr/>Context</h3><div class="tsd-signature tsd-kind-icon">Auth<wbr/>Context<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">ContextFrom</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">AuthModel</span><span class="tsd-signature-symbol">&gt;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/thingco/shared-frontend-libs/blob/fd6f8ed/packages/authentication-core/src/types.ts#L253">packages/authentication-core/src/types.ts:253</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>NOTE: Using the model to infer the context rather than just using the <code>InternalAuthContext</code> defined
at the top of this file seems to drastically improve type inference.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="AuthError" class="tsd-anchor"></a><h3>Auth<wbr/>Error</h3><div class="tsd-signature tsd-kind-icon">Auth<wbr/>Error<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;USERNAME_INVALID&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;PASSWORD_CHANGE_FAILURE&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;PASSWORD_CHANGE_REQUIRED&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;PASSWORD_FORGOTTEN_CODE_INVALID&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;PASSWORD_INVALID&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">`</span><span class="tsd-signature-type">PASSWORD_INVALID_</span><span class="tsd-signature-symbol">${</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-type">_RETRIES_REMAINING</span><span class="tsd-signature-symbol">`</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;PASSWORD_RESET_FAILURE&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;PASSWORD_RESET_REQUEST_FAILURE&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;PASSWORD_RETRIES_EXCEEDED&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;PIN_INVALID&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;NEW_PIN_INVALID&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;PIN_CHANGE_FAILURE&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;PIN_RESET_FAILURE&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;NEW_PIN_INVALID&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;USERNAME_AND_PASSWORD_INVALID&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;LOG_OUT_FAILURE&quot;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/thingco/shared-frontend-libs/blob/fd6f8ed/packages/authentication-core/src/types.ts#L189">packages/authentication-core/src/types.ts:189</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The available API-level errors returned on request failure.
These are different from the UI-level validation errors. They
should be mapped to translation strings when implemented in-app.
Only one of these can appear at any one time, and they indicate
a terminal error of some kind for the given state the user is in.</p>
</div><dl class="tsd-comment-tags"><dt>remarks</dt><dd><p>These would be better as enums if it weren&#39;t for the &quot;${number}_RETRIES&quot;
dynamic error. They need reveiw, and the naming needs to be clearer:
the names are far too similar, and it is too easy to apply the wrong one.</p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="AuthEvent" class="tsd-anchor"></a><h3>Auth<wbr/>Event</h3><div class="tsd-signature tsd-kind-icon">Auth<wbr/>Event<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">EventFrom</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">AuthModel</span><span class="tsd-signature-symbol">&gt;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/thingco/shared-frontend-libs/blob/fd6f8ed/packages/authentication-core/src/types.ts#L259">packages/authentication-core/src/types.ts:259</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>NOTE: Using the model to infer the [union type of] events rather than just using the
<code>InternalAuthEvent</code> defined at the top of this file seems to drastically improve type inference.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="AuthInterpreter" class="tsd-anchor"></a><h3>Auth<wbr/>Interpreter</h3><div class="tsd-signature tsd-kind-icon">Auth<wbr/>Interpreter<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">InterpreterFrom</span><span class="tsd-signature-symbol">&lt;</span><a href="modules.html#AuthMachine" class="tsd-signature-type" data-tsd-kind="Type alias">AuthMachine</a><span class="tsd-signature-symbol">&gt;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/thingco/shared-frontend-libs/blob/fd6f8ed/packages/authentication-core/src/types.ts#L232">packages/authentication-core/src/types.ts:232</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The machine is <em>interpreted</em> when a running instance of it is created -- this is done for
the model tests, but more importantly it is what is stored in the React Provider component&#39;s
<code>value</code> prop, and accessed by all the hooks. This is the fully fleshed-out version of
XState&#39;s <code>Interpreter</code> type with the generic arguments populated.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="AuthMachine" class="tsd-anchor"></a><h3>Auth<wbr/>Machine</h3><div class="tsd-signature tsd-kind-icon">Auth<wbr/>Machine<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">typeof </span><a href="modules.html#machine" class="tsd-signature-type" data-tsd-kind="Variable">machine</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/thingco/shared-frontend-libs/blob/fd6f8ed/packages/authentication-core/src/types.ts#L224">packages/authentication-core/src/types.ts:224</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The fully fleshed-out type of the FSM itself, an XState <code>StateMachine</code> type with the
generic arguments populated.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="AuthState" class="tsd-anchor"></a><h3>Auth<wbr/>State</h3><div class="tsd-signature tsd-kind-icon">Auth<wbr/>State<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">StateFrom</span><span class="tsd-signature-symbol">&lt;</span><a href="modules.html#AuthMachine" class="tsd-signature-type" data-tsd-kind="Type alias">AuthMachine</a><span class="tsd-signature-symbol">&gt;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/thingco/shared-frontend-libs/blob/fd6f8ed/packages/authentication-core/src/types.ts#L241">packages/authentication-core/src/types.ts:241</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>When interpreted, XState constructs all possible states (each one keyed by one of the AuthStateId
defined at the top of this file). This way, it never changes -- when using the state machine,
an end user is just following paths to different properties defined on a static object.</p>
</div><div><p><code>AuthState</code> is a union type of all the constructed state nodes.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="DeviceSecurityType" class="tsd-anchor"></a><h3>Device<wbr/>Security<wbr/>Type</h3><div class="tsd-signature tsd-kind-icon">Device<wbr/>Security<wbr/>Type<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;PIN&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;BIOMETRIC&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;NONE&quot;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/thingco/shared-frontend-libs/blob/fd6f8ed/packages/authentication-core/src/types.ts#L175">packages/authentication-core/src/types.ts:175</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The device-specific security type used as the second
layer of the authentication system.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="InternalAuthContext" class="tsd-anchor"></a><h3>Internal<wbr/>Auth<wbr/>Context</h3><div class="tsd-signature tsd-kind-icon">Internal<wbr/>Auth<wbr/>Context<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>allowedOtpRetries<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>deviceSecurityType<span class="tsd-signature-symbol">: </span><a href="modules.html#DeviceSecurityType" class="tsd-signature-type" data-tsd-kind="Type alias">DeviceSecurityType</a><span class="tsd-signature-symbol">; </span>error<span class="tsd-signature-symbol">?: </span><a href="modules.html#AuthError" class="tsd-signature-type" data-tsd-kind="Type alias">AuthError</a><span class="tsd-signature-symbol">; </span>loginCompleted<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span>loginFlowType<span class="tsd-signature-symbol">: </span><a href="modules.html#LoginFlowType" class="tsd-signature-type" data-tsd-kind="Type alias">LoginFlowType</a><span class="tsd-signature-symbol">; </span>pinLength<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>user<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">; </span>username<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/thingco/shared-frontend-libs/blob/fd6f8ed/packages/authentication-core/src/types.ts#L38">packages/authentication-core/src/types.ts:38</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The context (internal state object) of the auth system FSM</p>
</div><dl class="tsd-comment-tags"><dt>internal</dt><dd></dd></dl></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5>allowed<wbr/>Otp<wbr/>Retries<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>If an OTP login flow is being used, defines how many retries are allowed before
a user is bumped back to the start of the login process.</p>
</div><dl class="tsd-comment-tags"><dt>defaultvalue</dt><dd><p><code>3</code></p>
</dd></dl></div></li><li class="tsd-parameter"><h5>device<wbr/>Security<wbr/>Type<span class="tsd-signature-symbol">: </span><a href="modules.html#DeviceSecurityType" class="tsd-signature-type" data-tsd-kind="Type alias">DeviceSecurityType</a></h5><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>defaultvalue</dt><dd><p><code>&quot;NONE&quot;</code></p>
</dd></dl></div></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> error<span class="tsd-signature-symbol">?: </span><a href="modules.html#AuthError" class="tsd-signature-type" data-tsd-kind="Type alias">AuthError</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>An error message sent to the machine in response to an API call rejection.</p>
</div></div></li><li class="tsd-parameter"><h5>login<wbr/>Completed<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Whether the user is going through the login flow.</p>
</div><dl class="tsd-comment-tags"><dt>remarks</dt><dd><p>This is important when get to device security: if the user has gone through
the login flow, but already has a PIN set on the device, there should be no
reason to ask them to enter the PIN, they are already validated. On
subsequent run-throughs,  they will have a session, so will go straight to
the PIN screen.</p>
</dd></dl></div></li><li class="tsd-parameter"><h5>login<wbr/>Flow<wbr/>Type<span class="tsd-signature-symbol">: </span><a href="modules.html#LoginFlowType" class="tsd-signature-type" data-tsd-kind="Type alias">LoginFlowType</a></h5><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>defaultvalue</dt><dd><p><code>&quot;OTP&quot;</code></p>
</dd></dl></div></li><li class="tsd-parameter"><h5>pin<wbr/>Length<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>If PIN device security is active, defines the length of the PIN.</p>
</div><dl class="tsd-comment-tags"><dt>defaultvalue</dt><dd><p><code>4</code></p>
</dd></dl></div></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> user<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">any</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The user object returned from the external login API.</p>
</div><dl class="tsd-comment-tags"><dt>remarks</dt><dd><p>This is sometimes stored in the context because several API calls that will
occur <em>after</em> this object has been acquired by the system require it. In
these situations, having the user object stored in context allows stages to
be split out, rather than needing all logic in a single stage.</p>
</dd></dl></div></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> username<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The username used to access the application.</p>
</div><dl class="tsd-comment-tags"><dt>remarks</dt><dd><p>The username may be a one defined by the user, or it may be an email address,
or it may be a phonenumber. It&#39;s stored in the context between some stages
to allow it to be passed implicitly into states that require it rather than
making the user reenter it every time (see the <code>sessionExpired</code> flag).</p>
</dd></dl></div></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="InternalAuthEvent" class="tsd-anchor"></a><h3>Internal<wbr/>Auth<wbr/>Event</h3><div class="tsd-signature tsd-kind-icon">Internal<wbr/>Auth<wbr/>Event<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;SESSION_PRESENT&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;SESSION_NOT_PRESENT&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;USERNAME_VALID&quot;</span><span class="tsd-signature-symbol">; </span>user<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">; </span>username<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;USERNAME_INVALID&quot;</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;USERNAME_INVALID&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;OTP_VALID&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">`</span><span class="tsd-signature-type">PASSWORD_INVALID_</span><span class="tsd-signature-symbol">${</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-type">_RETRIES_REMAINING</span><span class="tsd-signature-symbol">`</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;OTP_INVALID&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PASSWORD_RETRIES_EXCEEDED&quot;</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;OTP_INVALID_RETRIES_EXCEEDED&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;USERNAME_AND_PASSWORD_VALID&quot;</span><span class="tsd-signature-symbol">; </span>user<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">; </span>username<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PASSWORD_CHANGE_REQUIRED&quot;</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;USERNAME_AND_PASSWORD_VALID_PASSWORD_CHANGE_REQUIRED&quot;</span><span class="tsd-signature-symbol">; </span>user<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">; </span>username<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;USERNAME_AND_PASSWORD_INVALID&quot;</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;USERNAME_AND_PASSWORD_INVALID&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;GO_BACK&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;FORGOTTEN_PASSWORD&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PASSWORD_CHANGE_SUCCESS&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PASSWORD_CHANGE_FAILURE&quot;</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PASSWORD_CHANGE_FAILURE&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;CANCEL_PASSWORD_CHANGE&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PASSWORD_RESET_REQUEST_SUCCESS&quot;</span><span class="tsd-signature-symbol">; </span>username<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;CANCEL_PASSWORD_CHANGE&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;CONFIRM_PASSWORD_RESET&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;CONFIRM_PASSWORD_CHANGE&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PASSWORD_RESET_REQUEST_FAILURE&quot;</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PASSWORD_RESET_REQUEST_FAILURE&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PASSWORD_RESET_SUCCESS&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PASSWORD_RESET_FAILURE&quot;</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PASSWORD_RESET_FAILURE&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;LOG_OUT_SUCCESS&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;LOG_OUT_FAILURE&quot;</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;LOG_OUT_FAILURE&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;CANCEL_LOG_OUT&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;REQUEST_LOG_OUT&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;REQUEST_PASSWORD_CHANGE&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PIN_IS_SET_UP&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PIN_IS_NOT_SET_UP&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PIN_VALID&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PIN_INVALID&quot;</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PIN_INVALID&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;NEW_PIN_VALID&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;NEW_PIN_INVALID&quot;</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;NEW_PIN_INVALID&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PIN_CHANGE_SUCCESS&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;CONFIRM_PIN_CHANGE&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PIN_CHANGE_FAILURE&quot;</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PIN_CHANGE_FAILURE&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;CANCEL_PIN_CHANGE&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;REQUEST_PIN_RESET&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PIN_RESET_SUCCESS&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PIN_RESET_FAILURE&quot;</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;PIN_RESET_FAILURE&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;CANCEL_PIN_RESET&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;REQUEST_PIN_CHANGE&quot;</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/thingco/shared-frontend-libs/blob/fd6f8ed/packages/authentication-core/src/types.ts#L116">packages/authentication-core/src/types.ts:116</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The available events to trigger state changes in the auth system FSM</p>
</div><dl class="tsd-comment-tags"><dt>internal</dt><dd></dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="LoginFlowType" class="tsd-anchor"></a><h3>Login<wbr/>Flow<wbr/>Type</h3><div class="tsd-signature tsd-kind-icon">Login<wbr/>Flow<wbr/>Type<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;OTP&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;USERNAME_PASSWORD&quot;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/thingco/shared-frontend-libs/blob/fd6f8ed/packages/authentication-core/src/types.ts#L169">packages/authentication-core/src/types.ts:169</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The core strategy used for authentication against the external
authentication APIs. The first layer of the authentication system.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="NewInternalAuthEvent" class="tsd-anchor"></a><h3>New<wbr/>Internal<wbr/>Auth<wbr/>Event</h3><div class="tsd-signature tsd-kind-icon">New<wbr/>Internal<wbr/>Auth<wbr/>Event<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>payload<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="modules.html#AuthContext" class="tsd-signature-type" data-tsd-kind="Type alias">AuthContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;API_SUCCESS_RESPONSE&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>error<span class="tsd-signature-symbol">: </span><a href="modules.html#AuthError" class="tsd-signature-type" data-tsd-kind="Type alias">AuthError</a><span class="tsd-signature-symbol">; </span>payload<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="modules.html#AuthContext" class="tsd-signature-type" data-tsd-kind="Type alias">AuthContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;API_SUCCESS_RESPONSE_WITH_WARNING&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>error<span class="tsd-signature-symbol">: </span><a href="modules.html#AuthError" class="tsd-signature-type" data-tsd-kind="Type alias">AuthError</a><span class="tsd-signature-symbol">; </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;API_FAILURE_RESPONSE&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;CANCEL_AND_GO_BACK&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;CONFIRM_AND_CONTINUE&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;REQUEST_LOG_OUT&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;REQUEST_PASSWORD_CHANGE&quot;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;REQUEST_PIN_CHANGE&quot;</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/thingco/shared-frontend-libs/blob/fd6f8ed/packages/authentication-core/src/types.ts#L101">packages/authentication-core/src/types.ts:101</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>NEW lets try to reduce the events down to just basics, there are far too many</p>
</div></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Variables</h2><section class="tsd-panel tsd-member tsd-kind-variable"><a id="machine" class="tsd-anchor"></a><h3>machine</h3><div class="tsd-signature tsd-kind-icon">machine<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">StateMachine</span><span class="tsd-signature-symbol">&lt;</span><a href="modules.html#InternalAuthContext" class="tsd-signature-type" data-tsd-kind="Type alias">InternalAuthContext</a><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><a href="modules.html#InternalAuthEvent" class="tsd-signature-type" data-tsd-kind="Type alias">InternalAuthEvent</a><span class="tsd-signature-symbol">, </span><span class="tsd-signature-symbol">{ </span>context<span class="tsd-signature-symbol">: </span><a href="modules.html#InternalAuthContext" class="tsd-signature-type" data-tsd-kind="Type alias">InternalAuthContext</a><span class="tsd-signature-symbol">; </span>value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">ActionObject</span><span class="tsd-signature-symbol">&lt;</span><a href="modules.html#InternalAuthContext" class="tsd-signature-type" data-tsd-kind="Type alias">InternalAuthContext</a><span class="tsd-signature-symbol">, </span><a href="modules.html#InternalAuthEvent" class="tsd-signature-type" data-tsd-kind="Type alias">InternalAuthEvent</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = ...</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/thingco/shared-frontend-libs/blob/fd6f8ed/packages/authentication-core/src/auth-system.ts#L91">packages/authentication-core/src/auth-system.ts:91</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The actual machine. Inference is still not perfect due to usage of string keys for all aliased
implementations, but by using the core types defined above we get most of the way there.</p>
</div><dl class="tsd-comment-tags"><dt>internal</dt><dd></dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-variable"><a id="model" class="tsd-anchor"></a><h3>model</h3><div class="tsd-signature tsd-kind-icon">model<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Model</span><span class="tsd-signature-symbol">&lt;</span><a href="modules.html#InternalAuthContext" class="tsd-signature-type" data-tsd-kind="Type alias">InternalAuthContext</a><span class="tsd-signature-symbol">, </span><a href="modules.html#InternalAuthEvent" class="tsd-signature-type" data-tsd-kind="Type alias">InternalAuthEvent</a><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">BaseActionObject</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = ...</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/thingco/shared-frontend-libs/blob/fd6f8ed/packages/authentication-core/src/auth-system.ts#L24">packages/authentication-core/src/auth-system.ts:24</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>By using XState&#39;s <code>createModel</code> function, we get most of the type inference for free</p>
</div><dl class="tsd-comment-tags"><dt>internal</dt><dd></dd></dl></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Functions</h2><section class="tsd-panel tsd-member tsd-kind-function"><a id="createAuthenticationSystem" class="tsd-anchor"></a><h3>create<wbr/>Authentication<wbr/>System</h3><ul class="tsd-signatures tsd-kind-function"><li class="tsd-signature tsd-kind-icon">create<wbr/>Authentication<wbr/>System<span class="tsd-signature-symbol">(</span>__namedParameters<span class="tsd-signature-symbol">?: </span><a href="modules.html#AuthConfig" class="tsd-signature-type" data-tsd-kind="Type alias">AuthConfig</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="modules.html#AuthMachine" class="tsd-signature-type" data-tsd-kind="Type alias">AuthMachine</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/thingco/shared-frontend-libs/blob/fd6f8ed/packages/authentication-core/src/auth-system.ts#L355">packages/authentication-core/src/auth-system.ts:355</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Factory function for constructing a configured auth system FSM.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>__namedParameters: <a href="modules.html#AuthConfig" class="tsd-signature-type" data-tsd-kind="Type alias">AuthConfig</a><span class="tsd-signature-symbol"> = {}</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="modules.html#AuthMachine" class="tsd-signature-type" data-tsd-kind="Type alias">AuthMachine</a></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-enum"><a href="enums/AuthStateId.html" class="tsd-kind-icon">Auth<wbr/>State<wbr/>Id</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AuthConfig" class="tsd-kind-icon">Auth<wbr/>Config</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AuthContext" class="tsd-kind-icon">Auth<wbr/>Context</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AuthError" class="tsd-kind-icon">Auth<wbr/>Error</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AuthEvent" class="tsd-kind-icon">Auth<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AuthInterpreter" class="tsd-kind-icon">Auth<wbr/>Interpreter</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AuthMachine" class="tsd-kind-icon">Auth<wbr/>Machine</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AuthState" class="tsd-kind-icon">Auth<wbr/>State</a></li><li class="tsd-kind-type-alias"><a href="modules.html#DeviceSecurityType" class="tsd-kind-icon">Device<wbr/>Security<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#InternalAuthContext" class="tsd-kind-icon">Internal<wbr/>Auth<wbr/>Context</a></li><li class="tsd-kind-type-alias"><a href="modules.html#InternalAuthEvent" class="tsd-kind-icon">Internal<wbr/>Auth<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#LoginFlowType" class="tsd-kind-icon">Login<wbr/>Flow<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#NewInternalAuthEvent" class="tsd-kind-icon">New<wbr/>Internal<wbr/>Auth<wbr/>Event</a></li><li class="tsd-kind-variable"><a href="modules.html#machine" class="tsd-kind-icon">machine</a></li><li class="tsd-kind-variable"><a href="modules.html#model" class="tsd-kind-icon">model</a></li><li class="tsd-kind-function"><a href="modules.html#createAuthenticationSystem" class="tsd-kind-icon">create<wbr/>Authentication<wbr/>System</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>