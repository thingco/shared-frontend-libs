{"code":"import { horizontalLineFullWidth, px, py, verticalLineFullHeight } from \"@thingco/graphviz\";\r\nimport React from \"react\";\r\nimport { useGraph } from \"./Context\";\r\nconst underlyingRangeInputStyle = {\r\n    appearance: \"none\",\r\n    background: \"transparent\",\r\n    opacity: 0,\r\n    display: \"block\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n};\r\nconst underlyingVerticalRangeInputStyle = {\r\n    ...underlyingRangeInputStyle,\r\n    WebkitAppearance: \"slider-vertical\",\r\n};\r\nconst defaultRangeStyle = {\r\n    fill: \"none\",\r\n    stroke: \"black\",\r\n    strokeWidth: 2,\r\n};\r\nexport const ScrubberHorizontal = ({ thumbStyle = {}, currentDataPointIndex, setCurrentDataPointIndex, startPosition = \"zero\", }) => {\r\n    thumbStyle = { ...defaultRangeStyle, ...thumbStyle };\r\n    const graph = useGraph();\r\n    let thumbPos;\r\n    switch (startPosition) {\r\n        case \"left\":\r\n            thumbPos = graph.xAxisMin;\r\n            break;\r\n        case \"zero\":\r\n            thumbPos = 0;\r\n            break;\r\n        case \"right\":\r\n            thumbPos = graph.xAxisMax;\r\n            break;\r\n    }\r\n    const { x1, x2, y1, y2 } = verticalLineFullHeight(graph, thumbPos);\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(\"g\", { transform: `translate(${px(graph, graph.xAxisValues[currentDataPointIndex])})` },\r\n            React.createElement(\"line\", { style: thumbStyle, x1: x1, x2: x2, y1: y1, y2: y2 })),\r\n        React.createElement(\"foreignObject\", { x: 0, y: 0, width: graph.xAxisSize, height: graph.yAxisSize, \"data-componentid\": \"scrubbercontrol\" },\r\n            React.createElement(\"input\", { onChange: (e) => setCurrentDataPointIndex(+e.target.value), type: \"range\", min: 0, max: graph.yAxisValues.length, step: 1, style: underlyingRangeInputStyle, value: currentDataPointIndex }))));\r\n};\r\nexport const ScrubberVertical = ({ thumbStyle = {}, currentDataPointIndex, setCurrentDataPointIndex, startPosition = \"zero\", }) => {\r\n    thumbStyle = { ...defaultRangeStyle, ...thumbStyle };\r\n    const graph = useGraph();\r\n    let thumbPos;\r\n    switch (startPosition) {\r\n        case \"top\":\r\n            thumbPos = graph.yAxisMax;\r\n            break;\r\n        case \"zero\":\r\n            thumbPos = 0;\r\n            break;\r\n        case \"bottom\":\r\n            thumbPos = graph.xAxisMin;\r\n            break;\r\n    }\r\n    const { x1, x2, y1, y2 } = horizontalLineFullWidth(graph, thumbPos);\r\n    /** NOTE TS typings for input elements do not include the `orient` property */\r\n    const inputRef = React.useRef(null);\r\n    React.useEffect(() => {\r\n        if (inputRef != null && inputRef.current != null) {\r\n            inputRef.current.setAttribute(\"orient\", \"vertical\");\r\n        }\r\n    }, []);\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(\"g\", { transform: `translate(0 ${py(graph, graph.yAxisValues[currentDataPointIndex])})` },\r\n            React.createElement(\"line\", { style: thumbStyle, x1: x1, x2: x2, y1: y1, y2: y2 })),\r\n        React.createElement(\"foreignObject\", { x: 0, y: 0, width: graph.xAxisSize, height: graph.yAxisSize, \"data-componentid\": \"scrubbercontrol\" },\r\n            React.createElement(\"input\", { ref: inputRef, onChange: (e) => setCurrentDataPointIndex(+e.target.value), type: \"range\", min: 0, max: graph.yAxisValues.length, step: 1, style: underlyingVerticalRangeInputStyle, value: currentDataPointIndex }))));\r\n};\r\n//# sourceMappingURL=Scrubber.js.map","references":["/Users/daniel.couper/Work/shared-frontend-libs/packages/graphviz/lib/index.d.ts","/Users/daniel.couper/Work/shared-frontend-libs/.yarn/cache/@types-react-npm-17.0.1-d29bd2301b-5b490728c5.zip/node_modules/@types/react/index.d.ts","/Users/daniel.couper/Work/shared-frontend-libs/packages/graphviz-react/src/react/Context.tsx"],"map":"{\"version\":3,\"file\":\"Scrubber.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/react/Scrubber.tsx\"],\"names\":[],\"mappings\":\"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\"}","dtsmap":{"name":"/Users/daniel.couper/Work/shared-frontend-libs/packages/graphviz-react/node_modules/.cache/rollup-plugin-typescript2/placeholder/react/Scrubber.d.ts.map","writeByteOrderMark":false,"text":"{\"version\":3,\"file\":\"Scrubber.d.ts\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/react/Scrubber.tsx\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EACH,mBAAmB,EAInB,iBAAiB,EAEpB,MAAM,mBAAmB,CAAC;AAC3B,OAAO,KAAK,MAAM,OAAO,CAAC;AAI1B,MAAM,WAAW,oBAAoB;IACpC,qBAAqB,EAAE,MAAM,CAAC;IAC9B,wBAAwB,EAAE,CAAC,CAAC,EAAE,MAAM,KAAK,IAAI,CAAC;IAC9C,UAAU,CAAC,EAAE,KAAK,CAAC,aAAa,CAAC;CACjC;AAuBD,eAAO,MAAM,kBAAkB;mBAMf,mBAAmB;MAC/B,WAiDH,CAAC;AAEF,eAAO,MAAM,gBAAgB;mBAMb,iBAAiB;MAC7B,WA0DH,CAAC\"}"},"dts":{"name":"/Users/daniel.couper/Work/shared-frontend-libs/packages/graphviz-react/node_modules/.cache/rollup-plugin-typescript2/placeholder/react/Scrubber.d.ts","writeByteOrderMark":false,"text":"import { HorizontalAlignment, VerticalAlignment } from \"@thingco/graphviz\";\r\nimport React from \"react\";\r\nexport interface ScrubberControlProps {\r\n    currentDataPointIndex: number;\r\n    setCurrentDataPointIndex: (n: number) => void;\r\n    thumbStyle?: React.CSSProperties;\r\n}\r\nexport declare const ScrubberHorizontal: ({ thumbStyle, currentDataPointIndex, setCurrentDataPointIndex, startPosition, }: ScrubberControlProps & {\r\n    startPosition: HorizontalAlignment;\r\n}) => JSX.Element;\r\nexport declare const ScrubberVertical: ({ thumbStyle, currentDataPointIndex, setCurrentDataPointIndex, startPosition, }: ScrubberControlProps & {\r\n    startPosition: VerticalAlignment;\r\n}) => JSX.Element;\r\n//# sourceMappingURL=Scrubber.d.ts.map"}}
