import{steppedXAxisValues as t,xAxisAnnotations as e,steppedYAxisValues as n,yAxisAnnotations as i,xAxis as r,xAxisSteps as o,yAxis as a,yAxisSteps as s,linePoints as x,verticalLineBarPoints as l,horizontalLineBarPoints as y,dotPoints as c,px as u,py as v,verticalGridlines as d,horizontalGridLines as p,verticalLineFullHeight as f,horizontalLineFullWidth as A,createGraph as g}from"@thingco/graphviz";import m from"react";function b(){return(b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var k=m.createContext(null);function S(){var t=m.useContext(k);if(!k)throw new Error("Graph values can only be accessed from within a graph context provider.");if(!t)throw new Error("Graph provider value is null: cannot access anything from it, please configure it correctly.");return t}var z={fontSize:3,fontFamily:"sans-serif",fontWeight:"bold",textAnchor:"middle"},M={fill:"none",stroke:"black",strokeLinecap:"round",strokeWidth:1},w={fill:"none",stroke:"black",strokeLinecap:"round",strokeWidth:1},V={fill:"black",stroke:"white",strokeWidth:1},O={stroke:"none",fill:"grey",opacity:.2},P={stroke:"grey",vectorEffect:"non-scaling-stroke",opacity:"0.5"},C={appearance:"none",background:"transparent",opacity:0,display:"block",width:"100%",height:"100%"},D=b({},C,{WebkitAppearance:"slider-vertical"}),L={fill:"none",stroke:"black",strokeWidth:2},Y=function(t){var e=t.children,n=g({xAxisSize:t.xAxisSize,xAxisScale:t.xAxisScale,xAxisMax:t.xAxisMax,xAxisMin:t.xAxisMin,xAxisStep:t.xAxisStep,xAxisValues:t.xAxisValues,yAxisSize:t.yAxisSize,yAxisScale:t.yAxisScale,yAxisMax:t.yAxisMax,yAxisMin:t.yAxisMin,yAxisStep:t.yAxisStep,yAxisValues:t.yAxisValues});return h(k.Provider,{value:n},e)};Y.Canvas=function(t){var e=t.children,n=t.padding,i=void 0===n?10:n,r=t.preserveAspectRatio,o=void 0===r?"xMidYMid":r,a=t.style,s=void 0===a?{}:a,x=S(),l=0-("number"==typeof i?i:i.left),y=0-("number"==typeof i?i:i.top),c=x.xAxisSize+("number"==typeof i?2*i:i.right+i.left),u=x.yAxisSize+("number"==typeof i?2*i:i.top+i.bottom);return console.log("padding: ",JSON.stringify(i),"vbHeight: ",u),h("svg",{style:s,viewBox:l+" "+y+" "+c+" "+u,preserveAspectRatio:o},e)},Y.XAxisAnnotations=function(n){var i,r=n.style,o=void 0===r?{}:r,a=n.annotations,s=n.offsetY,x=void 0===s?4:s,l=n.position,y=void 0===l?"bottom":l;o=b({},z,o);var c=S();return a=null!=(i=a)?i:t(c),h("g",{style:o,"data-componentid":"x-axis-annotations"},e(c,y).map(function(t,e){var n=t.x,i=t.y;return h("text",{key:""+n+i+e,x:n,y:i-x,"data-componentid":"x-axis-annotation-"+n+i+e},a&&a[e])}))},Y.YAxisAnnotations=function(t){var e,r=t.style,o=void 0===r?{}:r,a=t.offsetX,s=void 0===a?2:a,x=t.offsetY,l=void 0===x?0:x,y=t.annotations;o=b({},z,o);var c=S();return y=null!=(e=y)?e:n(c),h("g",{"data-componentid":"y-axis-annotations"},i(c).map(function(t,e){var n=t.x,i=t.y;return h("text",{key:""+n+i+e,x:n+s,y:i,dy:l,style:b({},o,{textAnchor:"end"}),"data-componentid":"y-axis-annotation-"+n+i+e},y&&y[e])}))},Y.DataLine=function(t){var e=t.style,n=void 0===e?{}:e;n=b({},w,n);var i=S();return h("polyline",{style:n,points:x(i)})},Y.DataDots=function(t){var e=t.style,n=void 0===e?{}:e,i=t.r,r=void 0===i?2:i;n=b({},V,n);var o=S(),a=c(o).map(function(t,e){var n=t.x,i=t.y;return h("circle",{key:""+n+i+e,cx:n,cy:i,r:r})});return h("g",{style:n},a)},Y.VerticalLineBars=function(t){var e=t.style,n=void 0===e?{}:e;n=b({},w,n);var i=S(),r=l(i).map(function(t,e){var n=t.x1,i=t.x2,r=t.y1,o=t.y2;return h("line",{key:""+n+i+r+o+e,x1:n,x2:i,y1:r,y2:o})});return h("g",{style:n},r)},Y.HorizontalLineBars=function(t){var e=t.style,n=void 0===e?{}:e;n=b({},w,n);var i=S(),r=y(i).map(function(t,e){var n=t.x1,i=t.x2,r=t.y1,o=t.y2;return h("line",{key:""+n+i+r+o+e,x1:n,x2:i,y1:r,y2:o})});return h("g",{style:n},r)},Y.AreaFillXAxis=function(t){var e=t.style,n=void 0===e?{}:e,i=t.coordinateOverride;n=b({},O,n);var r=S();i&&(r=b({},r,{yAxisValues:i}));var o=u(r,0)+","+v(r,0)+" "+x(r)+" "+u(r,r.xAxisMax)+","+v(r,0);return h("polygon",{style:n,points:o})},Y.AreaFillYAxis=function(t){var e=t.style,n=void 0===e?{}:e,i=t.coordinateOverride;n=b({},O,n);var r=S();i&&(r=b({},r,{xAxisValues:i}));var o=u(r,0)+","+v(r,0)+" "+x(r)+" "+u(r,0)+","+v(r,r.yAxisMax);return h("polygon",{style:n,points:o})},Y.XAxis=function(t){var e=t.style,n=void 0===e?M:e,i=t.showSteps,a=void 0===i||i,s=t.position,x=void 0===s?"bottom":s,l=S(),y=r(l,x),c=y.x1,u=y.x2,v=y.y1,d=y.y2,p=a?o(l,x):null;return h("g",{"data-componentid":"x-axis"},h("line",{style:n,x1:c,x2:u,y1:v,y2:d}),null==p?void 0:p.map(function(t,e){var i=t.x1,r=t.x2,o=t.y1,a=t.y2;return h("line",{key:""+i+r+o+a+e,style:n,x1:i,x2:r,y1:o,y2:a})}))},Y.XAxisGridLines=function(t){var e=t.style,n=void 0===e?{}:e;n=b({},P,n);var i=S();return h("g",{"data-componentid":"x-axis-gridlines"},d(i).map(function(t,e){var i=t.x1,r=t.x2,o=t.y1,a=t.y2;return h("line",{key:""+i+r+o+a+e,x1:i,x2:r,y1:o,y2:a,style:n,"data-componentid":"x-axis-gridline-"+i+r+o+a+e})}))},Y.YAxis=function(t){var e=t.style,n=void 0===e?M:e,i=t.showSteps,r=void 0===i||i,o=S(),x=a(o),l=x.x1,y=x.x2,c=x.y1,u=x.y2,v=r?s(o):null;return h("g",{"data-componentid":"y-axis"},h("line",{style:n,x1:l,x2:y,y1:c,y2:u}),null==v?void 0:v.map(function(t,e){var i=t.x1,r=t.x2,o=t.y1,a=t.y2;return h("line",{key:""+i+r+o+a+e,style:n,x1:i,x2:r,y1:o,y2:a})}))},Y.YAxisGridLines=function(t){var e=t.style,n=void 0===e?{}:e;n=b({},P,n);var i=S();return h("g",{"data-componentid":"y-axis-gridlines"},p(i).map(function(t,e){var i=t.x1,r=t.x2,o=t.y1,a=t.y2;return h("line",{key:""+i+r+o+a+e,x1:i,x2:r,y1:o,y2:a,style:n,"data-componentid":"y-axis-gridline-"+i+r+o+a+e})}))},Y.ScrubberHorizontal=function(t){var e=t.thumbStyle,n=void 0===e?{}:e,i=t.currentDataPointIndex,r=t.setCurrentDataPointIndex,o=t.startPosition,a=void 0===o?"zero":o;n=b({},L,n);var s,x=S();switch(a){case"left":s=x.xAxisMin;break;case"zero":s=0;break;case"right":s=x.xAxisMax}var l=f(x,s),y=l.x1,c=l.x2,v=l.y1,d=l.y2;return h(m.Fragment,null,h("g",{transform:"translate("+u(x,x.xAxisValues[i])+")"},h("line",{style:n,x1:y,x2:c,y1:v,y2:d})),h("foreignObject",{x:0,y:0,width:x.xAxisSize,height:x.yAxisSize,"data-componentid":"scrubbercontrol"},h("input",{onChange:function(t){return r(+t.target.value)},type:"range",min:0,max:x.xAxisValues.length-1,step:1,style:C,value:i})))},Y.ScrubberVertical=function(t){var e=t.thumbStyle,n=void 0===e?{}:e,i=t.currentDataPointIndex,r=t.setCurrentDataPointIndex,o=t.startPosition,a=void 0===o?"zero":o;n=b({},L,n);var s,x=S();switch(a){case"top":s=x.yAxisMax;break;case"zero":s=0;break;case"bottom":s=x.xAxisMin}var l=A(x,s),y=l.x1,c=l.x2,u=l.y1,d=l.y2,p=m.useRef(null);return m.useEffect(function(){null!=p&&null!=p.current&&p.current.setAttribute("orient","vertical")},[]),h(m.Fragment,null,h("g",{transform:"translate(0 "+v(x,x.yAxisValues[i])+")"},h("line",{style:n,x1:y,x2:c,y1:u,y2:d})),h("foreignObject",{x:0,y:0,width:x.xAxisSize,height:x.yAxisSize,"data-componentid":"scrubbercontrol"},h("input",{ref:p,onChange:function(t){return r(+t.target.value)},type:"range",min:0,max:x.yAxisValues.length-1,step:1,style:D,value:i})))};export{Y as Graph,S as useGraph};
//# sourceMappingURL=index.module.js.map
