var e=require("@thingco/graphviz");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=t(require("react"));function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var r=i.default.createContext(null);function a(){var e=i.default.useContext(r);if(!r)throw new Error("Graph values can only be accessed from within a graph context provider.");if(!e)throw new Error("Graph provider value is null: cannot access anything from it, please configure it correctly.");return e}var o={fontSize:3,fontFamily:"sans-serif",fontWeight:"bold",textAnchor:"middle"},s={fill:"none",stroke:"black",strokeLinecap:"round",strokeWidth:1},x={fill:"none",stroke:"black",strokeLinecap:"round",strokeWidth:1},l={fill:"black",stroke:"white",strokeWidth:1},y={stroke:"none",fill:"grey",opacity:.2},u={stroke:"grey",vectorEffect:"non-scaling-stroke",opacity:"0.5"},c={appearance:"none",background:"transparent",opacity:0,display:"block",width:"100%",height:"100%"},d=n({},c,{WebkitAppearance:"slider-vertical"}),v={fill:"none",stroke:"black",strokeWidth:2},p=function(t){var i=t.children,n=e.createGraph({xAxisSize:t.xAxisSize,xAxisScale:t.xAxisScale,xAxisMax:t.xAxisMax,xAxisMin:t.xAxisMin,xAxisStep:t.xAxisStep,xAxisValues:t.xAxisValues,yAxisSize:t.yAxisSize,yAxisScale:t.yAxisScale,yAxisMax:t.yAxisMax,yAxisMin:t.yAxisMin,yAxisStep:t.yAxisStep,yAxisValues:t.yAxisValues});return h(r.Provider,{value:n},i)};p.Canvas=function(e){var t=e.children,i=e.padding,n=void 0===i?10:i,r=e.preserveAspectRatio,o=void 0===r?"xMidYMid":r,s=e.style,x=void 0===s?{}:s,l=a(),y=0-("number"==typeof n?n:n.left),u=0-("number"==typeof n?n:n.top),c=l.xAxisSize+("number"==typeof n?2*n:n.right+n.left),d=l.yAxisSize+("number"==typeof n?2*n:n.top+n.bottom);return console.log("padding: ",JSON.stringify(n),"vbHeight: ",d),h("svg",{style:x,viewBox:y+" "+u+" "+c+" "+d,preserveAspectRatio:o},t)},p.XAxisAnnotations=function(t){var i,r=t.style,s=void 0===r?{}:r,x=t.annotations,l=t.offsetY,y=void 0===l?4:l,u=t.position,c=void 0===u?"bottom":u;s=n({},o,s);var d=a();return x=null!=(i=x)?i:e.steppedXAxisValues(d),h("g",{style:s,"data-componentid":"x-axis-annotations"},e.xAxisAnnotations(d,c).map(function(e,t){var i=e.x,n=e.y;return h("text",{key:""+i+n+t,x:i,y:n-y,"data-componentid":"x-axis-annotation-"+i+n+t},x&&x[t])}))},p.YAxisAnnotations=function(t){var i,r=t.style,s=void 0===r?{}:r,x=t.offsetX,l=void 0===x?2:x,y=t.offsetY,u=void 0===y?0:y,c=t.annotations;s=n({},o,s);var d=a();return c=null!=(i=c)?i:e.steppedYAxisValues(d),h("g",{"data-componentid":"y-axis-annotations"},e.yAxisAnnotations(d).map(function(e,t){var i=e.x,r=e.y;return h("text",{key:""+i+r+t,x:i+l,y:r,dy:u,style:n({},s,{textAnchor:"end"}),"data-componentid":"y-axis-annotation-"+i+r+t},c&&c[t])}))},p.DataLine=function(t){var i=t.style,r=void 0===i?{}:i;r=n({},x,r);var o=a();return h("polyline",{style:r,points:e.linePoints(o)})},p.DataDots=function(t){var i=t.style,r=void 0===i?{}:i,o=t.r,s=void 0===o?2:o;r=n({},l,r);var x=a(),y=e.dotPoints(x).map(function(e,t){var i=e.x,n=e.y;return h("circle",{key:""+i+n+t,cx:i,cy:n,r:s})});return h("g",{style:r},y)},p.VerticalLineBars=function(t){var i=t.style,r=void 0===i?{}:i;r=n({},x,r);var o=a(),s=e.verticalLineBarPoints(o).map(function(e,t){var i=e.x1,n=e.x2,r=e.y1,a=e.y2;return h("line",{key:""+i+n+r+a+t,x1:i,x2:n,y1:r,y2:a})});return h("g",{style:r},s)},p.HorizontalLineBars=function(t){var i=t.style,r=void 0===i?{}:i;r=n({},x,r);var o=a(),s=e.horizontalLineBarPoints(o).map(function(e,t){var i=e.x1,n=e.x2,r=e.y1,a=e.y2;return h("line",{key:""+i+n+r+a+t,x1:i,x2:n,y1:r,y2:a})});return h("g",{style:r},s)},p.AreaFillXAxis=function(t){var i=t.style,r=void 0===i?{}:i,o=t.coordinateOverride;r=n({},y,r);var s=a();o&&(s=n({},s,{yAxisValues:o}));var x=e.px(s,0)+","+e.py(s,0)+" "+e.linePoints(s)+" "+e.px(s,s.xAxisMax)+","+e.py(s,0);return h("polygon",{style:r,points:x})},p.AreaFillYAxis=function(t){var i=t.style,r=void 0===i?{}:i,o=t.coordinateOverride;r=n({},y,r);var s=a();o&&(s=n({},s,{xAxisValues:o}));var x=e.px(s,0)+","+e.py(s,0)+" "+e.linePoints(s)+" "+e.px(s,0)+","+e.py(s,s.yAxisMax);return h("polygon",{style:r,points:x})},p.XAxis=function(t){var i=t.style,n=void 0===i?s:i,r=t.showSteps,o=void 0===r||r,x=t.position,l=void 0===x?"bottom":x,y=a(),u=e.xAxis(y,l),c=u.x1,d=u.x2,v=u.y1,p=u.y2,f=o?e.xAxisSteps(y,l):null;return h("g",{"data-componentid":"x-axis"},h("line",{style:n,x1:c,x2:d,y1:v,y2:p}),null==f?void 0:f.map(function(e,t){var i=e.x1,r=e.x2,a=e.y1,o=e.y2;return h("line",{key:""+i+r+a+o+t,style:n,x1:i,x2:r,y1:a,y2:o})}))},p.XAxisGridLines=function(t){var i=t.style,r=void 0===i?{}:i;r=n({},u,r);var o=a();return h("g",{"data-componentid":"x-axis-gridlines"},e.verticalGridlines(o).map(function(e,t){var i=e.x1,n=e.x2,a=e.y1,o=e.y2;return h("line",{key:""+i+n+a+o+t,x1:i,x2:n,y1:a,y2:o,style:r,"data-componentid":"x-axis-gridline-"+i+n+a+o+t})}))},p.YAxis=function(t){var i=t.style,n=void 0===i?s:i,r=t.showSteps,o=void 0===r||r,x=a(),l=e.yAxis(x),y=l.x1,u=l.x2,c=l.y1,d=l.y2,v=o?e.yAxisSteps(x):null;return h("g",{"data-componentid":"y-axis"},h("line",{style:n,x1:y,x2:u,y1:c,y2:d}),null==v?void 0:v.map(function(e,t){var i=e.x1,r=e.x2,a=e.y1,o=e.y2;return h("line",{key:""+i+r+a+o+t,style:n,x1:i,x2:r,y1:a,y2:o})}))},p.YAxisGridLines=function(t){var i=t.style,r=void 0===i?{}:i;r=n({},u,r);var o=a();return h("g",{"data-componentid":"y-axis-gridlines"},e.horizontalGridLines(o).map(function(e,t){var i=e.x1,n=e.x2,a=e.y1,o=e.y2;return h("line",{key:""+i+n+a+o+t,x1:i,x2:n,y1:a,y2:o,style:r,"data-componentid":"y-axis-gridline-"+i+n+a+o+t})}))},p.ScrubberHorizontal=function(t){var r=t.thumbStyle,o=void 0===r?{}:r,s=t.currentDataPointIndex,x=t.setCurrentDataPointIndex,l=t.startPosition,y=void 0===l?"zero":l;o=n({},v,o);var u,d=a();switch(y){case"left":u=d.xAxisMin;break;case"zero":u=0;break;case"right":u=d.xAxisMax}var p=e.verticalLineFullHeight(d,u),f=p.x1,A=p.x2,g=p.y1,m=p.y2;return h(i.default.Fragment,null,h("g",{transform:"translate("+e.px(d,d.xAxisValues[s])+")"},h("line",{style:o,x1:f,x2:A,y1:g,y2:m})),h("foreignObject",{x:0,y:0,width:d.xAxisSize,height:d.yAxisSize,"data-componentid":"scrubbercontrol"},h("input",{onChange:function(e){return x(+e.target.value)},type:"range",min:0,max:d.xAxisValues.length-1,step:1,style:c,value:s})))},p.ScrubberVertical=function(t){var r=t.thumbStyle,o=void 0===r?{}:r,s=t.currentDataPointIndex,x=t.setCurrentDataPointIndex,l=t.startPosition,y=void 0===l?"zero":l;o=n({},v,o);var u,c=a();switch(y){case"top":u=c.yAxisMax;break;case"zero":u=0;break;case"bottom":u=c.xAxisMin}var p=e.horizontalLineFullWidth(c,u),f=p.x1,A=p.x2,g=p.y1,m=p.y2,b=i.default.useRef(null);return i.default.useEffect(function(){null!=b&&null!=b.current&&b.current.setAttribute("orient","vertical")},[]),h(i.default.Fragment,null,h("g",{transform:"translate(0 "+e.py(c,c.yAxisValues[s])+")"},h("line",{style:o,x1:f,x2:A,y1:g,y2:m})),h("foreignObject",{x:0,y:0,width:c.xAxisSize,height:c.yAxisSize,"data-componentid":"scrubbercontrol"},h("input",{ref:b,onChange:function(e){return x(+e.target.value)},type:"range",min:0,max:c.yAxisValues.length-1,step:1,style:d,value:s})))},exports.Graph=p,exports.useGraph=a;
//# sourceMappingURL=index.js.map
